{% load django_tables2 %}

<div class="w-full overflow-x-auto">
  <div class="relative border">
    <!-- Tabel -->
    {% if table.paginated_rows %}
      <table id="example" class="display nowrap w-full text-sm text-left text-gray-500">
        <thead class="bg-gray-200">
          <tr>
            {% for column in table.columns %}
              <th class="px-4 py-2 whitespace-nowrap">{{ column.header }}</th>
            {% endfor %}
          </tr>
        </thead>
        <tbody>
          {% for row in table.paginated_rows %}
            <tr>
              {% for column, cell in row.items %}
                <td class="border px-4 py-2 whitespace-nowrap">{{ cell }}</td>
              {% endfor %}
            </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <div class="text-center text-gray-400 italic py-8 bg-gray-50 rounded-md">No data available</div>
    {% endif %}
  </div>
</div>

<!-- DataTables CSS & JS -->
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css" />
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>

<script>
  $(document).ready(function () {
    $('#example').DataTable({
      scrollX: true, // Aktifkan scroll horizontal
      scrollCollapse: true, // Optimalkan jika tabel lebih kecil
      autoWidth: false, // Mencegah ukuran tabel membengkak
      paging: false, // Nonaktifkan pagination client-side
      searching: false, // Nonaktifkan search client-side
      info: false // Nonaktifkan info ("Showing 1 to 10...")
    })
  })
</script>

<script>
  $('#reloadButton').click(function () {
    location.reload()
  })
</script>
